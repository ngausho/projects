"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[66218,97215],{533169:(e,s,a)=>{a.d(s,{Z:()=>n});var r=a(245410),t=a(802071);let n=()=>{let{checkExperiment:e}=(0,r.F)(),s=(0,t.Z)(),a=!!s.isAuth&&s.isPartner;return!!a&&!!(e("web_m10n_business_hierarchy_alpha").anyEnabled||e("aid_exp_global_account_switcher_beta").anyEnabled||e("aid_exp_global_account_switcher_ga").anyEnabled)}},337445:(e,s,a)=>{a.d(s,{Oz:()=>r,mo:()=>i,nt:()=>n,v8:()=>t});let r={BUSINESS_ACCOUNT:"BUSINESS_ACCOUNT",BUSINESS_HIERARCHY:"BUSINESS_HIERARCHY",USER_ACCOUNT:"USER",AD_ACCOUNT:"AD_ACCOUNT",PROFILE:"PROFILE"},t="BUSINESS_PANEL",n="ASSET_PANEL",i=500},813364:(e,s,a)=>{a.d(s,{FE:()=>p,d9:()=>N,lG:()=>y});var r=a(667294),t=a(616550),n=a(533169),i=a(337445),_=a(872993),u=a(388011),c=a(583592),l=a(988014),d=a(739425),o=a(802071),E=a(897215),m=a(923917),A=a(785893);let{Provider:S,useHook:N}=(0,c.Z)("AccountSwitcherContext"),y=e=>e.search&&(0,d.mB)(e.search).advertiserId,p=({children:e})=>{let s=(0,t.useLocation)(),{params:{userBizId:a,businessHierarchyId:c,advertiserId:d,username:N}}=(0,t.useRouteMatch)(),p=y(s),b=(0,o.Z)(),[I,h]=(0,r.useState)(""),[T,R]=(0,r.useState)(null),[v,C]=(0,r.useState)(!1),[D,O]=(0,r.useState)(null),[P,g]=(0,r.useState)(null),[$,U]=(0,r.useState)(!1),f=(0,n.Z)(),{logContextEvent:G}=(0,u.v)();(0,r.useEffect)(()=>{c?h(c):h("")},[c]);let L=(0,r.useCallback)(async({id:e,username:s})=>{let a=await (0,_.bG)({user_id:e,username:s});a&&O({type:e?i.Oz.BUSINESS_ACCOUNT:i.Oz.PROFILE,id:e||a.id,name:a.full_name,img:a.image_medium_url,username:s}),U(!1)},[]),B=(0,m.rc)(N);(0,r.useEffect)(()=>{(0,l.cD)(s)&&D&&B!==N&&N===b.username&&(L({username:b.username}),g({id:b.id||"",name:b.fullName||"",img:b.imageMediumUrl||""}))},[s,B,L,D,N,b.fullName,b.id,b.imageMediumUrl,b.username]),(0,r.useEffect)(()=>{let e=async({businessId:e,assetId:s})=>{if(!e){U(!1);return}try{let{data:{data:{asset:a,type:r}}}=await (0,E.G2)({businessId:e,assetId:s});O({id:s,name:a.name,img:"",type:r})}catch(e){O({id:b.id||"",name:b.fullName||"",img:b.imageMediumUrl||"",type:i.Oz.BUSINESS_ACCOUNT})}U(!1)},r=async({id:e})=>{let s=await (0,_.p)({hierarchyId:e});O({id:e,name:null!=s&&s.data?s.data.name:"",img:null!=s&&s.data?s.data.img_medium_url:"",type:i.Oz.BUSINESS_HIERARCHY}),U(!1)};if(b.isAuth&&f&&!D){let t=d||!!p&&!(0,l.Ni)(s);U(!0),c?r({id:c}):a?L({id:a}):N?L({username:N}):t?e({businessId:b.id,assetId:d||p||""}):(O({type:i.Oz.BUSINESS_ACCOUNT,id:b.id||"",name:b.fullName||"",img:b.imageMediumUrl||""}),U(!1))}},[D,b,c,a,N,d,p,P,f,s,L,$]),(0,r.useEffect)(()=>{let e=new URLSearchParams(s.search);P||e.has("actingBusinessId")||g({id:b.id||"",name:b.fullName||"",img:b.imageMediumUrl||""})},[P,s.search,b]);let w=(0,r.useMemo)(()=>({activePanel:T,selectedHierarchyId:I,switcherOpen:v,openAccountSwitcher:()=>{if(G({event_type:101,view_type:608,component:14346}),!T){if((0,l.TI)(s))R({type:i.v8});else{let e=new URLSearchParams(s.search),a=e.get("actingBusinessId");R({type:i.nt,id:null!=a?a:null==P?void 0:P.id})}}C(!0)},closeAccountSwitcher:()=>C(!1),openAssetPanel:e=>{R({type:i.nt,id:e})},closeAssetPanel:()=>{R({type:i.v8})},actingBusiness:P,selectedAccount:D,setSelectedAccount:O,setActingBusiness:g}),[I,T,v,D,P,G,s]);return(0,A.jsx)(S,{value:w,children:e})}},987892:(e,s,a)=>{a.d(s,{C:()=>N,H:()=>y});var r=a(667294),t=a(533169),n=a(337445),i=a(872993),_=a(965533),u=a(914062),c=a(651009),l=a(583592),d=a(970588),o=a(957286),E=a(802071),m=a(173969),A=a(785893);let{Provider:S,useHook:N}=(0,l.Z)("BusinessHierarchyContext"),y=({children:e})=>{let[s,a]=(0,r.useState)([]),[l,N]=(0,r.useState)(!1),[y,p]=(0,r.useState)(!1),[b,I]=(0,r.useState)({}),[h,T]=(0,r.useState)(null),[R,v]=(0,r.useState)([]),C=(0,m.Z)(),D=(0,r.useRef)(C),O=(0,E.Z)(),P=(0,t.Z)(),g=(0,r.useRef)({}),$=(0,r.useCallback)((e,s)=>{let a;s===n.Oz.BUSINESS_HIERARCHY?a=(0,c.Z)(u.Q6.DASHBOARD,"","",e):s===n.Oz.BUSINESS_ACCOUNT&&(a=(0,c.Z)(u.Q6.DASHBOARD,e));let r=(0,o.Z)({site:"www",path:a});(0,_.Z)(r)},[]),U=(0,r.useCallback)(async e=>{if(!P)return[];if(p(!0),g.current[e])return p(!1),g.current[e];{let s=await (0,d.Z)({url:"ads/v4/business_access/business_hierarchies/",data:{search_by:["FULL_NAME","BUSINESS_ID"],search_value:e}}),{data:a}=s.resource_response,r=a&&a.map(e=>(e.children&&(e.children=e.children.map(e=>(e.user.entity_type=n.Oz.USER_ACCOUNT,e))),e))||[],t=/^\d+$/.test(e),_=RegExp(e.toLowerCase(),"g"),u=[];h||T(u=await D.current());let c=null!=h?h:u,l=c.filter(s=>{if(t)return s.id.includes(e);let a=s.user.full_name.toLowerCase();return a.match(_)}).map(i.IT),o=[...r.map(e=>e.id),...l.map(e=>e.id)],E=t?(O.id||"").includes(e):(O.fullName||"").toLowerCase().match(_);return O.isAuth&&E&&o.push(O.id),g.current[e]=o,p(!1),o}},[P,D,O.id,O.fullName,O.isAuth,h]),{id:f="",username:G="",email:L="",fullName:B="",imageSmallUrl:w="",imageMediumUrl:Z="",isAuth:M}=O,x=async()=>{if(!M||!P||h)return;N(!0);let e=[];try{let s=await (0,d.Z)({url:"ads/v4/business_access/business_hierarchies/"}),{data:r}=s.resource_response;e=r&&r.map(e=>(e.children&&(e.children=e.children.map(e=>(e.user.entity_type=n.Oz.USER_ACCOUNT,e))),e))||[],a(e)}catch(e){a([])}try{let s=[];h||(s=await D.current(),T(s));let a=null!=h?h:s;v(a.map(i.IT)),I((0,i.WP)({id:f,username:G,email:L,fullName:B,imageSmallUrl:w,imageMediumUrl:Z})),g.current[""]=[...e.map(e=>e.id),...a.map(i.IT).map(e=>e.id),f],N(!1)}catch(e){N(!1)}},H=(0,r.useCallback)(x,[f,G,L,B,w,Z,M,P,h]),k=(0,r.useCallback)(e=>s.some(s=>s.id===e||s.children.some(s=>s.id===e||s.user.id===e)),[s]),F=(0,r.useCallback)(e=>s.map(e=>"BUSINESS_HIERARCHY"===e.entity_type?e:null).find(s=>!!s&&s.children.some(s=>s.user.id===e)),[s]),z=(0,r.useMemo)(()=>({businessHierarchies:[...b.id&&!k(b.id)?[b]:[],...s,...R.filter(e=>!k(e.id))],switchAccount:$,searchAccounts:U,loadingAccounts:l,isSearchingAccounts:y,fetchData:H,getParentHierarchyForIdIfExists:F}),[s,$,U,R,l,y,b,H,k,F]);return(0,A.jsx)(S,{value:z,children:e})}},872993:(e,s,a)=>{a.d(s,{BX:()=>m,IT:()=>c,Vq:()=>u,WP:()=>l,Yu:()=>E,a9:()=>A,bG:()=>o,p:()=>d});var r=a(690108),t=a(337445),n=a(970588),i=a(542977),_=a(785893);let u=e=>({id:e.id,entity_type:t.Oz.BUSINESS_ACCOUNT,user:{id:e.user.id,entity_type:t.Oz.USER_ACCOUNT,username:e.user.username,email:e.user.email,full_name:e.user.full_name,image_small_url:e.user.image_small_url,image_medium_url:e.user.image_medium_url}}),c=e=>({id:e.id,entity_type:t.Oz.BUSINESS_ACCOUNT,requires_mfa_for_roles:e.requires_mfa_for_roles,user:{id:e.user.id,entity_type:t.Oz.USER_ACCOUNT,username:e.user.username,email:e.user.email,full_name:e.user.full_name,image_small_url:e.user.image_small_url,image_medium_url:e.user.image_medium_url}}),l=e=>({id:e.id,entity_type:t.Oz.BUSINESS_ACCOUNT,user:{id:e.id,entity_type:t.Oz.USER_ACCOUNT,username:e.username,email:e.email,full_name:e.fullName,image_small_url:e.imageSmallUrl,image_medium_url:e.imageMediumUrl}}),d=async({hierarchyId:e})=>{let s=await (0,n.Z)({url:`ads/v4/business_access/business_hierarchy/${e}/`});return s.resource_response},o=async({user_id:e,username:s})=>{if(!s&&!e)return null;let a=await r.Z.create("UserResource",{user_id:e,username:s}).callGet(),{resource_response:{data:t}}=a;return t},E=(0,_.jsx)("hr",{style:{borderTop:"1px solid #e9e9e9"}}),m=async({entityId:e,actingBusinessId:s})=>{var a;let r=await (0,i.FO)([{entity_type:"BIZ_USER",entity_id:e,property_keys:["GLOBAL_ACCOUNT_SWITCHER_CONFIG"]}]),t=r[0];if(!(t&&t.properties))return[];let n=t.properties.GLOBAL_ACCOUNT_SWITCHER_CONFIG,_=null===(a=n.favoriteAdAccounts)||void 0===a?void 0:a.favoriteAdAccountsMap[s].advertiserId;return _||[]},A=async({entityId:e,actingBusinessId:s,adAccounts:a})=>{await (0,i.RM)([{entity_type:"BIZ_USER",entity_id:e,properties:{GLOBAL_ACCOUNT_SWITCHER_CONFIG:{favoriteAdAccounts:{favoriteAdAccountsMap:{[s]:{advertiserId:a}}}}}}])}},914062:(e,s,a)=>{a.d(s,{EF:()=>d,Hg:()=>h,Hl:()=>y,IR:()=>S,Je:()=>c,K3:()=>C,O1:()=>g,Q6:()=>E,QE:()=>r,V3:()=>I,Z4:()=>A,c7:()=>N,cU:()=>i,cg:()=>t,dZ:()=>n,gO:()=>p,j$:()=>b,j9:()=>D,pg:()=>$,pt:()=>v,qq:()=>P,sy:()=>l,tP:()=>T,uE:()=>m,vk:()=>O,w2:()=>u,we:()=>R,xX:()=>_,yR:()=>o});let r=3e3,t=280,n=500,i=1e4,_=250,u=_+1,c=50,l=50,d=20,o=20,E={DASHBOARD:"DASHBOARD",PEOPLE:"PEOPLE",PARTNERS:"PARTNERS",AD_ACCOUNTS:"AD_ACCOUNTS",AD_ACCOUNTS_PENDING_TAB:"AD_ACCOUNTS_PENDING_TAB",HISTORY:"HISTORY",PEOPLE_DETAIL:"PEOPLE_DETAIL",PARTNERS_DETAIL:"PARTNERS_DETAIL",SHARED_PARTNERS_DETAIL:"SHARED_PARTNERS_DETAIL",AD_ACCOUNTS_DETAIL:"AD_ACCOUNTS_DETAIL",PENDING_AD_ACCOUNTS_DETAIL:"PENDING_AD_ACCOUNTS_DETAIL",PEOPLE_INVITES:"PEOPLE_INVITES",PARTNERS_INVITES:"PARTNERS_INVITES",CHOOSER:"CHOOSER",PARTNERS_REQUEST_PAGE:"PARTNERS_REQUEST_PAGE",PARTNERS_INVITE_PAGE:"PARTNERS_INVITE_PAGE",PROFILES:"PROFILES",PROFILES_DETAIL:"PROFILES_DETAIL",PARTNERS_PENDING_TAB:"PARTNERS_PENDING_TAB",PEOPLE_PENDING_TAB:"PEOPLE_PENDING_TAB",USERS:"USERS",ACOUNTS:"ACCOUNTS",BUSINESS_SECURITY:"BUSINESS_SECURITY",SUPPORT_TOOL:"SUPPORT_TOOL",ASSETS:"ASSETS",ASSET_GROUPS:"ASSET_GROUPS",INVOICE_MANAGEMENT:"INVOICE_MANAGEMENT",BUSINESS_HIERARCHY:"BUSINESS_HIERARCHY",MANAGERS:"MANAGERS",AUDIENCES:"AUDIENCES",SHARED_TAGS:"SHARED_TAGS"},m={PARTNER:"PARTNER",PARTNER_ADMIN:"PARTNER_ADMIN"},A={ADVERTISER_OWNED_AD_ACCOUNT:"ADVERTISER_OWNED_AD_ACCOUNT",AGENCY_OWNED_AD_ACCOUNT:"AGENCY_OWNED_AD_ACCOUNT"},S={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"},N={AD_ACCOUNT:"AD_ACCOUNT",PERSON:"PERSON",PARTNER:"PARTNER"},y={PERSON:"PERSON",PARTNER:"PARTNER",PROFILE:"PROFILE"},p={ADMIN:"ADMIN",ANALYST:"ANALYST",FINANCE_MANAGER:"FINANCE_MANAGER",AUDIENCE_MANAGER:"AUDIENCE_MANAGER",CAMPAIGN_MANAGER:"CAMPAIGN_MANAGER",CATALOGS_MANAGER:"CATALOGS_MANAGER"},b=["ADMIN","ANALYST","FINANCE_MANAGER","AUDIENCE_MANAGER","CAMPAIGN_MANAGER","CATALOGS_MANAGER"],I={EMPLOYEE:"EMPLOYEE",BIZ_ADMIN:"BIZ_ADMIN",OWNER:"OWNER"},h=["PROFILE_PUBLISHER"],T={AD_ACCOUNT:0,PROFILE:2,ASSET_GROUP:3},R={id:"0",is_pin_support_user:!0,biz_roles:[I.BIZ_ADMIN],business_roles:[I.BIZ_ADMIN],user:{username:"psupport",full_name:"Pinterest support",image_small_url:"https://i.pinimg.com/60x60_RS/f6/e9/3a/f6e93a06b500b2d87ffd32e1f56f7c6f.jpg",image_medium_url:"https://i.pinimg.com/150x150_RS/f6/e9/3a/f6e93a06b500b2d87ffd32e1f56f7c6f.jpg"}},v={ACTIVE:0,PENDING:1},C={ACTIVE:"active",PENDING:"pending"},D="filter_type",O={page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:""},P={WARNING:"WARNING",DEFAULT:"DEFAULT"},g={BUSINESS_INVITE_INVALID:2932,BUSINESS_ACCESS_PERSONAL_ACCOUNT:2936,INVALID_USERNAME:90,ACCESS_DENIED:280,BUSINESS_RELATIONSHIP_ALREADY_EXISTS:2751,BUSINESS_RELATIONSHIP_COUNT_EXCEEDED:2769,BUSINESS_NUMBER_MEMBERS_IN_POLICY_EXCEEDS:2938,INVALID_ODO_REQUEST:2755,BUSINESS_INVITE_STACKED_ERROR:2773,ACL_POLICY_NOT_FOUND:1110,BUSINESS_INVITE_NOT_EXIST:2770},$={ALL_TAGS:"ALL",OWNED:"OWNED",SHARED:"SHARED"}},651009:(e,s,a)=>{a.d(s,{Z:()=>n});let r="/business/business-access/",t="/business/business-hierarchy/",n=(e,s,a,n)=>{switch(e){case"DASHBOARD":return`${n?t:r}${String(null!=n?n:s)}/dashboard/`;case"PEOPLE":return`${r}${String(s)}/employees/`;case"PARTNERS":return`${r}${String(s)}/partners/`;case"AD_ACCOUNTS":return`${r}${String(s)}/ad-accounts/`;case"HISTORY":return`${r}${String(s)}/history/`;case"PEOPLE_DETAIL":return`${r}${String(s)}/employees/${String(a)}/details/`;case"PARTNERS_DETAIL":return`${r}${String(s)}/partners/${String(a)}/details/`;case"SHARED_PARTNERS_DETAIL":return`${r}${String(s)}/shared/${String(a)}/details/`;case"AD_ACCOUNTS_DETAIL":return`${r}${String(s)}/ad-accounts/${String(a)}/details/`;case"PENDING_AD_ACCOUNTS_DETAIL":return`${r}${String(s)}/ad-accounts/pending/${String(a)}/details/`;case"PEOPLE_INVITES":return`${r}${String(s)}/employees/invites/`;case"PEOPLE_PENDING_TAB":return`${r}${String(s)}/employees/pending/`;case"PARTNERS_PENDING_TAB":return`${r}${String(s)}/partners/pending/`;case"AD_ACCOUNTS_PENDING_TAB":return`${r}${String(s)}/ad-accounts/pending`;case"PARTNERS_INVITE_PAGE":return`${r}${String(s)}/partners/invites/`;case"PARTNERS_REQUEST_PAGE":return`${r}${String(s)}/partners/requests/`;case"PROFILES":return`${r}${String(s)}/profiles/`;case"PROFILES_DETAIL":return`${r}${String(s)}/profiles/${String(a)}/details/`;case"BUSINESS_SECURITY":return`${r}${String(s)}/security/`;case"SUPPORT_TOOL":return`${r}${String(s)}/support/`;case"ASSET_GROUPS":return a?`${r}${String(s)}/asset-groups/?asset_group_id=${String(a)}`:`${r}${String(s)}/asset-groups/`;case"INVOICE_MANAGEMENT":return`${r}${String(s)}/invoice-management/`;case"BUSINESS_HIERARCHY":return`${t}${String(n)}/hierarchy/`;case"MANAGERS":return`${t}${String(n)}/managers/`;case"AUDIENCES":return`${r}${String(s)}/audiences/`;case"SHARED_TAGS":return`${r}${String(s)}/shared-tags/`;default:return r}}},173969:(e,s,a)=>{a.d(s,{Z:()=>n});var r=a(970588),t=a(282802);function n(){let{experimentsClient:e}=(0,t.B)();return async()=>{var s;let{anyEnabled:a}=null!==(s=e.checkExperiment("business_access_employees_api_v4_migration"))&&void 0!==s?s:{},t=await (0,r.Z)({url:a?"/ads/v4/business_access/businesses/me/employers/":"ads/internal/business_access/users/me/employers/"}),n=t.resource_response?t.resource_response.data:{data:[]};return await Promise.all(n&&n.data||[])}}},208576:(e,s,a)=>{a.d(s,{$2:()=>_,Ah:()=>c,IW:()=>i,Vs:()=>l,dF:()=>d,sl:()=>u});var r=a(914062),t=a(649655),n=a(664810);let i=(e={},s={})=>{if(e.limit||e.sortBy||e.sortDirection||e.searchTerm)return 0;if(e.page){let a=e.limit||s.limit,r=e.page||s.page;return(r-1)*a}return s.startIndex||0},_=(e={},s)=>{if(e.limit||e.sortBy||e.sortDirection||e.searchTerm)return 0;if(e.page){let a=e.limit||s.limit,r=e.page||s.page;return(r-1)*a}return s.startIndex},u=(e,s,a,r)=>{let{businessId:t,...n}=a,{...i}=r;return{id:e,...i,...n,searchBy:n.searchBy,searchTerm:n.searchTerm||i.searchTerm,limit:n.limit||i.limit,page:n.page||i.page,sortBy:n.sortBy||i.sortBy,sortDirection:n.sortDirection||i.sortDirection,startIndex:s,...0===s&&{page:1}}},c=(e,s)=>s.reduce((s,a)=>({ids:s.ids.concat(e(a)),data:{...s.data,[e(a)]:a}}),{ids:[],data:{}}),l=(e,s)=>{var a,r,t,n,_;let u={page:null!==(a=e.page)&&void 0!==a?a:s.page,limit:null!==(r=e.limit)&&void 0!==r?r:s.limit,sortBy:null!==(t=e.sortBy)&&void 0!==t?t:s.sortBy,searchBy:e.searchBy,searchTerm:null!==(n=e.searchTerm)&&void 0!==n?n:s.searchTerm,sortDirection:null!==(_=e.sortDirection)&&void 0!==_?_:s.sortDirection},c=i(e,s);return{...u,startIndex:c,...0===c&&{page:1}}},d=async(e,s,a)=>{let i="PEOPLE"===a?n.JC:t.Eg,{data:{data:_=[],total_data_count:u}={}}=await i({...e,limit:r.xX,startIndex:0,id:e.id||""}),c=Math.ceil(u/r.xX);if(c<=1)return{data:{data:_,total_data_count:u}};let l=[...Array(c).keys()].slice(1),d=await Promise.allSettled(l.map(s=>i({...e,limit:r.xX,startIndex:s*r.xX}))),o=d.reduce((e,s)=>{var a,r;return null!==(a=s.value)&&void 0!==a&&null!==(r=a.data)&&void 0!==r&&r.data&&(e=e.concat(s.value.data.data)),e},_);return{data:{data:o,total_data_count:u}}}},897215:(e,s,a)=>{a.d(s,{ib:()=>m,vf:()=>N,XV:()=>y,jC:()=>S,oC:()=>E,W3:()=>b,fc:()=>g,cE:()=>R,xZ:()=>p,lo:()=>$,N1:()=>O,BG:()=>P,eo:()=>C,pI:()=>T,cp:()=>v,G2:()=>D,cR:()=>I,EB:()=>o});var r=a(758579),t=a(333872),n=a(914062),i=a(970588),_=a(649655),u=a(664810);let c=async(e,s,a,r=[])=>{let t=await (0,i.Z)({url:e,method:"GET",data:s}),n={bookmark:void 0,data:{business_id:"",data:[]},...t.resource_response};if(!n.bookmark){let e=a(n.data);return e.push(...r),n.data}return await c(e,{...s,bookmark:n.bookmark},a,r.concat(...a(n.data)))},l={get:(e,s={})=>c(e,s,e=>e.data,[])};var d=a(404403);let o=async(e,s,a,r,t,n,i)=>"PARTNER"===t?await (0,_.SZ)({businessId:r,partnerId:e,assetId:a,roles:s,clientBusinessId:n,businessHierarchyNodeId:i}):await (0,u.Jg)({businessId:r,memberId:e,assetId:a,roles:s,businessHierarchyNodeId:i}),E=async(e,s,a,r)=>{if(0===s.length)return;let t=[];s.forEach(({assigneeIds:s,adAccountIds:n,roles:i})=>{0!==i.length&&s.forEach(s=>{n.forEach(n=>{t.push(o(s,i,n,e,a,void 0,r))})})}),await Promise.all(t)},m=async(e,s,a,r,t)=>{let n="PEOPLE"===r?"MEMBER_INVITE":"PARTNER_INVITE",_=s.reduce((e,s)=>{let a=Object.keys(s)[0],r=Object.values(s)[0],t=r.includes("ADMIN")?{[a]:["ADMIN"]}:s;return{...e,...t}},{}),u=a.map(s=>(0,i.Z)({url:`/ads/v4/business_access/businesses/${e}/invites/${s}/assets/access/`,method:"POST",data:{resource_id_to_roles:JSON.stringify(_),invite_type:n,business_hierarchy_node_id:t}}));await Promise.all(u)},A=e=>e.reduce((e,s)=>{let a=Object.keys(s)[0],r=Object.values(s)[0],t=r.includes("ADMIN")?{[a]:["ADMIN"]}:s;return{...e,...t}},{}),S=async(e,s,a,r)=>{let t=A(a),n=await (0,i.Z)({url:`ads/internal/business_access/businesses/${e}/partners/${s}/assets/access/`,method:"POST",data:{resource_id_to_roles:JSON.stringify(t),business_hierarchy_node_id:r}});return n.resource_response.data},N=async(e,s,a,r,t)=>{let n=s.reduce((e,s)=>{let a=Object.keys(s)[0],r=Object.values(s)[0],t=r.includes("ADMIN")?{[a]:["ADMIN"]}:s;return{...e,...t}},{}),_=a.map(s=>(0,i.Z)({url:`/ads/v4/business_access/businesses/${e}/invites/${s}/assets/access/`,method:"POST",data:{resource_id_to_roles:JSON.stringify(n),invite_type:r,business_hierarchy_node_id:t}}));await Promise.all(_)},y=async(e,s,a,r)=>{let t=s.reduce((e,s)=>{let a=Object.keys(s)[0],r=Object.values(s)[0],t=r.includes("ADMIN")?{[a]:["ADMIN"]}:s;return{...e,...t}},{}),n=await (0,i.Z)({url:`/ads/v4/business_access/businesses/${e}/invites/${a}/assets/access/`,method:"POST",data:{resource_id_to_roles:JSON.stringify(t),invite_type:"PARTNER_REQUEST",business_hierarchy_node_id:r}});return n.resource_response},p=async()=>{let e=await (0,i.Z)({url:"ads/v4/advertisers/countries/",method:"GET"});return e.resource_response.data},b=async(e,s,a,r,n,_)=>{let u=await (0,i.Z)({url:"/ads/v4/advertisers/",method:"POST",data:{owner_user_id:e,name:r,country:n,business_hierarchy_node_id:a,tos_id:_||(0,d.Fc)(t.tN[n]),...s&&{agency_user_id:s}}});return u.resource_response.data},I=async()=>{var e,s,a;let{anyEnabled:t}=null!==(e=null===(s=(0,r.Z)())||void 0===s?void 0:s.experimentsClient.checkExperiment("business_access_employees_api_v4_migration"))&&void 0!==e?e:{};if(t){let e=await (0,i.Z)({url:"/ads/v4/business_access/businesses/me/employers/"}),s=null===(a=e.resource_response.data)||void 0===a?void 0:a.data;return await Promise.all(s||[])}let n=await l.get("ads/internal/business_access/users/me/employers/"),_=n.data;return await Promise.all(_||[])},h=async({businessId:e,assetId:s,limit:a,sortBy:r="name",searchBy:t="name",searchTerm:n,startIndex:_,sortDirection:u,resourceType:c})=>{let l=s?JSON.stringify({child_asset_id:s}):void 0,d=await (0,i.Z)({url:`/ads/v4/business_access/businesses/${e}/assets/`,data:{page_size:a,sort_by:r,search_by:t,start_index:_,search_value:n,sort_ascending:"ASCENDING"===u,resource_type:c,filters:l}});return d.resource_response},T=async({businessId:e,assetIds:s,resourceType:a,limit:r,sortBy:t,sortDirection:n="ASCENDING",searchBy:_,searchTerm:u="",startIndex:c=0,filtersPayload:l})=>{let d=l&&Object.keys(l).length>0?{filters:JSON.stringify(l)}:{};return(await (0,i.Z)({url:`ads/v4/business_access/businesses/${e}/assets_by_ids`,data:{business_id:e,asset_ids:s,resource_type:a,page_size:r,sort_by:t,sort_direction:n,search_by:_,search_value:u,start_index:c,...d}})).resource_response},R=async({id:e,limit:s,sortBy:a="name",searchBy:t="name",searchTerm:n="",startIndex:_=0,sortDirection:u="ASCENDING",forPartner:c=!1,includeAssetSummary:l=!1})=>{var d,o;let{anyEnabled:E}=null!==(d=null===(o=(0,r.Z)())||void 0===o?void 0:o.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration"))&&void 0!==d?d:{};if(E){let r=await h({id:e,businessId:e,limit:s,sortBy:a,searchBy:t,searchTerm:n,startIndex:_,sortDirection:u,resourceType:"AD_ACCOUNT"});if(!l)return r;{let a=await T({businessId:e,assetIds:(null==r?void 0:r.data.data.map(e=>e.asset_id))||[],limit:s,resourceType:"AD_ACCOUNT"}),t=null==r?void 0:r.data.data.map(e=>({...e,...null==a?void 0:a.data.data[e.asset_id]}));return{...r,data:{...null==r?void 0:r.data,data:t}}}}{let r=await (0,i.Z)({url:`/ads/internal/business_access/businesses/${String(e)}/all_assets/`,data:{limit:s,sort_by:a,sort_ascending:"ASCENDING"===u,search_by:t,search_value:n,start_index:_,for_partner:c}});return r.resource_response}},v=async({id:e,limit:s,sortBy:a="name",sortDirection:t="ASCENDING",searchBy:_="name",searchTerm:u="",startIndex:c=0,forPartner:l})=>{var d,o;let{anyEnabled:E}=null!==(d=null===(o=(0,r.Z)())||void 0===o?void 0:o.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration"))&&void 0!==d?d:{};if(E)return h({id:e,businessId:e,limit:s,sortBy:a,searchBy:_,searchTerm:u,startIndex:c,sortDirection:t,resourceType:"PROFILE"});{let r=await (0,i.Z)({url:`ads/internal/business_access/businesses/${e}/all_assets/`,data:{limit:s,sort_by:a,sort_ascending:"ASCENDING"===t,search_by:_,search_value:u,start_index:c,for_partner:l,type:n.tP.PROFILE}});return r.resource_response}},C=async({id:e,assetIds:s,limit:a,type:r})=>{let t=await (0,i.Z)({url:`ads/internal/business_access/businesses/${e}/batch_assets/`,method:"GET",data:{limit:a,type:r,assets_ids:s.join(",")}});return t.resource_response},D=async({businessId:e,assetId:s})=>{let a=await (0,i.Z)({url:`ads/internal/business_access/businesses/${e}/assets/${s}/`,method:"GET"});return a.resource_response},O=async({businessId:e,assetId:s,limit:a,sortBy:r,searchBy:t="full_name",searchTerm:n,startIndex:_,sortDirection:u})=>{let c=await (0,i.Z)({url:`ads/internal/business_access/businesses/${e}/assets/${s}/partners/`,data:{limit:a,sort_by:r,search_by:t,start_index:_,search_value:n,sort_ascending:"ASCENDING"===u}}),l=c.resource_response;return l},P=async({businessId:e,assetId:s,limit:a,sortBy:r,searchBy:t="full_name",searchTerm:n,startIndex:_,sortDirection:u})=>{let c=await (0,i.Z)({url:`ads/internal/business_access/businesses/${e}/assets/${s}/members/`,data:{page_size:a,sort_by:r,search_by:t,start_index:_,search_value:n,sort_ascending:"ASCENDING"===u}}),l=c.resource_response;return l},g=async({id:e,businessId:s,assetId:a,limit:r,sortBy:t="name",searchBy:n="name",searchTerm:i,startIndex:_,sortDirection:u,resourceType:c="ASSET_GROUP"})=>h({id:e,businessId:s,assetId:a,limit:r,sortBy:t,searchBy:n,searchTerm:i,startIndex:_,sortDirection:u,resourceType:c}),$=async({id:e,businessId:s,limit:a,sortBy:r="name",searchBy:t="name",searchTerm:n,startIndex:i,sortDirection:_,resourceType:u="ASSET_GROUP"})=>h({id:e,businessId:s,limit:a,sortBy:r,searchBy:t,searchTerm:n,startIndex:i,sortDirection:_,resourceType:u})},649655:(e,s,a)=>{a.d(s,{Bq:()=>b,Cj:()=>E,Eg:()=>S,F0:()=>A,FA:()=>_,Jq:()=>o,K7:()=>m,M9:()=>I,OA:()=>R,Of:()=>p,SB:()=>y,SZ:()=>T,Zk:()=>d,c4:()=>N,ek:()=>c,h9:()=>h,qC:()=>u,w8:()=>l,wi:()=>v});var r=a(758579),t=a(914062),n=a(970588),i=a(208576);let _=async({businessId:e,requestIds:s,includeAssetSummary:a})=>{let r=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/batch_partners/`,method:"GET",data:{partners:s,assets_summary:a}}),{data:{data:t}}={data:{},...r.resource_response};return t},u=async({businessId:e,requestIds:s,includeAssetSummary:a})=>{let r=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/shared/batch_partners/`,method:"GET",data:{partners:s,assets_summary:a}}),{data:{data:t}}={data:{},...r.resource_response};return t},c=async(e,s)=>{let a=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/partners/${s}/assets/`,method:"GET",data:{limit:t.cU}});return{data:[],business_id:"",partner_id:"",...a.resource_response.data}},l=async(e,s)=>{let a=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/partners/${s}/asset_counts/`,method:"GET"});return a.resource_response.data},d=async({partnerId:e,role:s,businessId:a,businessHierarchyNodeId:r})=>{let t=await (0,n.Z)({url:`ads/internal/business_access/businesses/${a}/partners/${e}/invite/`,method:"POST",data:{role_name:s,business_hierarchy_node_id:r}});return t.resource_response},o=async({partnerId:e,role:s,businessId:a})=>{let r=await (0,n.Z)({url:`ads/internal/business_access/businesses/${a}/partners/${e}/invite/`,method:"POST",data:{role_name:s,type:"PARTNER_REQUEST"}});return r.resource_response},E=async({businessId:e,partnerId:s,businessHierarchyNodeId:a,role:r})=>{let t=await (0,n.Z)({url:`/ads/internal/business_access/businesses/${e}/partners/${s}/`,method:"DELETE",data:{role_name:r,business_hierarchy_node_id:a}});return t.resource_response},m=async({businessId:e,partnerId:s,businessHierarchyNodeId:a,role:r,partner_type:t})=>{let i=await (0,n.Z)({url:`/ads/v4/business_access/businesses/${e}/partners/${s}/`,method:"DELETE",data:{role_name:r,partner_type:t,business_hierarchy_node_id:a}});return i.resource_response},A=async({id:e,limit:s,sortBy:a="full_name",searchBy:r="full_name",searchTerm:t="",startIndex:i=0,sortDirection:_="ASCENDING",includeAssetSummary:u=!0})=>{let c=await (0,n.Z)({url:`/ads/internal/business_access/businesses/${e}/all_partners/`,method:"GET",data:{limit:s,sort_by:a,search_by:r,start_index:i,search_value:t,assets_summary:u?"true":"false",sort_ascending:"ASCENDING"===_}}),l={data:{data:[]},...c.resource_response};return l.data.data=l.data.data.map(s=>{var a;return(null==s?void 0:null===(a=s.created_by_biz)||void 0===a?void 0:a.id)===e&&(s.isAgencyPartner=!0),s}),l},S=async({id:e,limit:s,sortBy:a="full_name",searchBy:r=["FULL_NAME","BUSINESS_ID","USERNAME"],searchTerm:t="",startIndex:i=0,sortDirection:_="ASCENDING",includeAssetSummary:u,partnerType:c,partners:l=[]})=>{let d=await (0,n.Z)({url:`ads/v4/business_access/businesses/${e}/partners/`,data:{page_size:s,sort_by:a,search_by:r,start_index:i,search_value:t,assets_summary:u?"true":"false",sort_ascending:"ASCENDING"===_,partner_type:c,partners:l}});return d.resource_response},N=async({businessId:e,partnerId:s,includeAssetSummary:a=!0})=>{var r,t;let i=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/partners/${s}/`,method:"GET",data:{assets_summary:a?"true":"false "}});if((null===(r=i.resource_response.data)||void 0===r?void 0:null===(t=r.created_by_biz)||void 0===t?void 0:t.id)===e){let e={data:{isAgencyPartner:void 0},...i.resource_response};return e.data.isAgencyPartner=!0,e}return i.resource_response},y=async({businessId:e,partnerId:s,limit:a,sortBy:r,searchBy:t="name",searchTerm:i,startIndex:_,sortDirection:u})=>{let c=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/partners/${s}/assets/`,method:"GET",data:{limit:a,sort_by:r,...i&&{search_by:t},start_index:_,search_value:i,sort_ascending:"ASCENDING"===u}});return c.resource_response},p=async({businessId:e,partnerId:s,limit:a,sortBy:r,searchBy:t="name",searchTerm:i,startIndex:_,sortDirection:u})=>{let c=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/shared/${s}/assets/`,method:"GET",data:{limit:a,sort_by:r,...i&&{search_by:t},start_index:_,search_value:i,sort_ascending:"ASCENDING"===u}});return c.resource_response},b=async({businessId:e,partnerId:s,limit:a,sortBy:r,searchBy:t="name",searchTerm:i,startIndex:_,sortDirection:u})=>{let c=await (0,n.Z)({url:`ads/v4/business_access/businesses/${e}/partners/${s}/assets/`,method:"GET",data:{limit:a,sort_by:r,...i?{search_by:t}:{},start_index:_,search_value:i,sort_ascending:"ASCENDING"===u,resource_type:"ASSET_GROUP",partner_type:"INTERNAL"}});return c.resource_response},I=async(e,s,a=!1)=>{let r=await (0,i.dF)({id:e,partnerType:"INTERNAL"},s,"PARTNER"),_=r.data.data,u=await Promise.all(_.map(async({id:s})=>{let r=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/partners/${s}/assets/`,method:"GET",data:{limit:t.cU,type:a?t.tP.PROFILE:t.tP.AD_ACCOUNT}});return r.resource_response.data}));return _.map((e,s)=>({...e,assets:u[s].data}))},h=async({businessId:e,partnerId:s,assetId:a})=>{let r=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/partners/${s}/assets/${a}/`,method:"GET"});return r.resource_response},T=async({businessId:e,partnerId:s,assetId:a,roles:t,clientBusinessId:i,businessHierarchyNodeId:_})=>{var u,c;let{anyEnabled:l}=null!==(u=null===(c=(0,r.Z)())||void 0===c?void 0:c.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration"))&&void 0!==u?u:{};if(l){let r=await (0,n.Z)({url:`ads/v4/business_access/businesses/${e}/partners/${s}/assets/${a}/access/`,method:"PUT",data:{permissions:t.includes("ADMIN")?["ADMIN"]:t,business_hierarchy_node_id:_,...i?{client_business_id:i}:{}}});return r.resource_response.data}{let r=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/partners/${s}/assets/${a}/access/`,method:"PUT",data:{finalRoles:t.includes("ADMIN")?["ADMIN"]:t,business_hierarchy_node_id:_,...i?{client_business_id:i}:{}}});return r.resource_response.data}},R=async({businessId:e,partnerId:s,assetId:a,businessHierarchyNodeId:t,partner_type:i="INTERNAL"})=>{var _,u;let{anyEnabled:c}=null!==(_=null===(u=(0,r.Z)())||void 0===u?void 0:u.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration"))&&void 0!==_?_:{};if(c){let r=await (0,n.Z)({url:`ads/v4/business_access/businesses/${e}/partners/${s}/assets/${a}/access/`,method:"DELETE",data:{partner_type:i,business_hierarchy_node_id:t}});return r.resource_response.data}{let r=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/partners/${s}/assets/${a}/access/`,method:"DELETE",data:{partner_type:i,business_hierarchy_node_id:t}});return r.resource_response.data}},v=async({businessId:e,assetId:s,limit:a,sortBy:r,searchBy:t="FULL_NAME",searchTerm:i,startIndex:_,sortDirection:u})=>{let c=await (0,n.Z)({url:`ads/v4/business_access/businesses/${e}/assets/${s}/partners/`,data:{page_size:a,sort_by:r,search_by:t,search_value:i,start_index:_,sort_ascending:"ASCENDING"===u}});return c.resource_response}},664810:(e,s,a)=>{a.d(s,{GL:()=>y,JC:()=>E,Jg:()=>p,QC:()=>A,UQ:()=>c,bP:()=>b,dx:()=>l,kF:()=>I,kH:()=>o,kJ:()=>_,kY:()=>m,mZ:()=>S,n5:()=>N,p6:()=>d,p_:()=>u});var r=a(758579),t=a(914062),n=a(970588),i=a(678108);let _=async({businessId:e,requestIds:s,includeAssetSummary:a})=>{let r=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/batch_members/`,method:"GET",data:{members:s,assets_summary:a,extend_info_from_user_api:!0}}),{data:{data:t}}={data:{data:{}},...r.resource_response};return t},u=async(e,s,a,r)=>{let t=await (0,n.Z)({url:`ads/internal/business_access/businesses/${a}/members/batch_invite/`,method:"POST",data:{role_name:s,members:e,business_hierarchy_node_id:r}});return{data:[],...t.resource_response.data}},c=async(e,s,a)=>{var _,u;let{anyEnabled:c}=null!==(_=null===(u=(0,r.Z)())||void 0===u?void 0:u.experimentsClient.checkExperiment("web_m10n_business_manager_api_loops_removal"))&&void 0!==_?_:{},l=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/members/${s}/assets/`,method:"GET",data:{limit:t.cU,...Number.isInteger(a)&&{asset_permission_type:a}}}),d={data:[],...l.resource_response.data};if(c)return d.data;{let e=d.data,s=e.map(i.P);return await Promise.all(s)}},l=async(e,s,a,t)=>{var i,_;let{anyEnabled:u}=null!==(i=null===(_=(0,r.Z)())||void 0===_?void 0:_.experimentsClient.checkExperiment("business_access_employees_api_v4_migration"))&&void 0!==i?i:{},c=await (0,n.Z)({url:`ads/${u?"v4":"internal"}/business_access/businesses/${e}/members/${s}/`,method:"DELETE",data:{...u?{business_role:a}:{role_name:[a]},business_hierarchy_node_id:t}});return{data:void 0,auxData:void 0,...c.resource_response.data}},d=async(e,s,a,t)=>{var i,_;let u=null!==(i=null===(_=(0,r.Z)())||void 0===_?void 0:_.experimentsClient.checkExperiment("business_access_employees_api_v4_migration").anyEnabled)&&void 0!==i&&i,c=await (0,n.Z)({url:u?`ads/v4/business_access/businesses/${a}/members/${s}/`:`ads/internal/business_access/businesses/${a}/members/${s}/`,method:"PUT",data:{...u?{business_role:e}:{role_name:e},...t?{business_hierarchy_node_id:t}:{}}});return c.resource_response.data},o=async({id:e,limit:s,filters:a,sortBy:r="full_name",searchBy:t="full_name",searchTerm:i="",startIndex:_=0,sortDirection:u="ASCENDING",includeAssetSummary:c})=>{let l=await (0,n.Z)({url:`/ads/internal/business_access/businesses/${e}/members/`,method:"GET",data:{limit:s,filters:a?JSON.stringify(a):void 0,sort_by:r,search_by:t,start_index:_,search_value:i,assets_summary:c?"true":"false",sort_ascending:"ASCENDING"===u,extend_info_from_user_api:!0}});return l.resource_response},E=async({id:e,limit:s,filters:a,memberIds:r=[],sortBy:t="full_name",searchBy:i=["FULL_NAME","EMAIL","USERNAME"],searchTerm:_="",startIndex:u=0,sortDirection:c="ASCENDING",includeAssetSummary:l})=>{let d=await (0,n.Z)({url:`ads/v4/business_access/businesses/${e}/members/`,data:{page_size:s,member_ids:r.length?r.join(","):void 0,filters:a?JSON.stringify(a):void 0,sort_by:t,search_by:i,start_index:u,search_value:_,assets_summary:l?"true":"false",sort_ascending:"ASCENDING"===c,extend_info_from_user_api:!0}});return d.resource_response},m=async({id:e})=>{var s,a;let t=null!==(s=null===(a=(0,r.Z)())||void 0===a?void 0:a.experimentsClient.checkExperiment("business_access_employees_api_v4_migration").anyEnabled)&&void 0!==s&&s,i=await (0,n.Z)({url:t?`/ads/v4/business_access/businesses/${e}/owner/`:`/ads/internal/business_access/businesses/${e}/owner/`});return i.resource_response.data},A=async({businessId:e,personId:s,limit:a,sortBy:r,searchBy:t="name",searchTerm:i,startIndex:_,sortDirection:u,assetPermissionType:c})=>{let l={limit:a,sort_by:r,search_by:t,start_index:_,search_value:i,sort_ascending:"ASCENDING"===u,...Number.isInteger(c)?{asset_permission_type:c}:{}},d=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/members/${s}/assets/`,data:l});return d.resource_response},S=async({businessId:e,personId:s,limit:a,sortBy:r,searchBy:i="name",searchTerm:_,startIndex:u,sortDirection:c,assetPermissionType:l})=>{let d={limit:a,sort_by:r,search_by:i,start_index:u,search_value:_,sort_ascending:"ASCENDING"===c,type:t.tP.PROFILE,...Number.isInteger(l)?{asset_permission_type:l}:{}},o=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/members/${s}/assets/`,data:d});return o.resource_response},N=async({businessId:e,personId:s,limit:a,sortBy:r,searchBy:t="name",searchTerm:i,startIndex:_,sortDirection:u,assetPermissionType:c})=>{let l=await (0,n.Z)({url:`ads/v4/business_access/businesses/${e}/members/${s}/assets/`,data:{page_size:a,sort_by:r,search_by:t,start_index:_,search_value:i,sort_ascending:"ASCENDING"===u,resource_type:"ASSET_GROUP",asset_permission_type:c}});return l.resource_response},y=async({businessId:e,personId:s,assetId:a})=>{let r=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/members/${s}/assets/${a}/`});return r.resource_response},p=async({businessId:e,memberId:s,assetId:a,businessHierarchyNodeId:t,roles:i})=>{var _,u;let{anyEnabled:c}=null!==(_=null===(u=(0,r.Z)())||void 0===u?void 0:u.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration"))&&void 0!==_?_:{};if(c){let r=await (0,n.Z)({url:`ads/v4/business_access/businesses/${e}/members/${s}/assets/${a}/access/`,method:"PUT",data:{permissions:i.includes("ADMIN")?["ADMIN"]:i,business_hierarchy_node_id:t}});return r.resource_response.data}{let r=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/members/${s}/assets/${a}/access/`,method:"PUT",data:{finalRoles:i.includes("ADMIN")?["ADMIN"]:i,business_hierarchy_node_id:t}});return r.resource_response.data}},b=async({businessId:e,memberId:s,assetId:a,businessHierarchyNodeId:t})=>{var i,_;let{anyEnabled:u}=null!==(i=null===(_=(0,r.Z)())||void 0===_?void 0:_.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration"))&&void 0!==i?i:{};if(u){let r=await (0,n.Z)({url:`ads/v4/business_access/businesses/${e}/members/${s}/assets/${a}/access/`,method:"DELETE",data:{business_hierarchy_node_id:t}});return r.resource_response.data}{let r=await (0,n.Z)({url:`ads/internal/business_access/businesses/${e}/members/${s}/assets/${a}/access/`,method:"DELETE",data:{business_hierarchy_node_id:t}});return r.resource_response.data}},I=async({businessId:e,assetId:s,limit:a,sortBy:r,searchBy:t="FULL_NAME",searchTerm:i,startIndex:_,sortDirection:u})=>{let c=await (0,n.Z)({url:`ads/v4/business_access/businesses/${e}/assets/${s}/members/`,method:"GET",data:{page_size:a,sort_by:r,search_by:t,search_value:i,start_index:_,sort_ascending:"ASCENDING"===u}}),{data:l}={data:void 0,...c.resource_response};return l}},678108:(e,s,a)=>{a.d(s,{P:()=>n,b:()=>t});var r=a(690108);let t=async e=>{let s=await r.Z.create("UserResource",{user_id:e}).callGet(),{resource_response:{data:a}}=s;return a},n=async e=>{let{asset:s}=e,a=s.agency_user_id||s.owner_user_id,r=await t(a);return{...e,asset:{...s,creator:r.full_name}}}},923917:(e,s,a)=>{a.d(s,{XI:()=>t,YZ:()=>i,rc:()=>n,sU:()=>c});var r=a(667294);function t(e){let[s,a]=(0,r.useState)(!1),t=()=>a(!0),n=()=>a(!1);return(0,r.useEffect)(()=>{let{current:s}=e;return s&&(s.addEventListener("mouseenter",t),s.addEventListener("mouseleave",n)),()=>{s&&(s.removeEventListener("mouseenter",t),s.removeEventListener("mouseleave",n))}}),s}let n=e=>{let s=(0,r.useRef)(e);return(0,r.useEffect)(()=>{s.current=e}),s.current};function i(){let e=(0,r.useRef)(!0);return(0,r.useEffect)(()=>{e.current=!1},[]),e.current}function _(e,s){return Object.is(e,s)}let u=Symbol("pre-initial value");function c(e,{equal:s=_,delta:a}={equal:_}){let t=(0,r.useRef)(u),n=t.current;return(0,r.useEffect)(()=>{t.current=e}),{previousValue:n,changed:n===u||!s(n,e),delta:null==a?void 0:a(n,e)}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/66218-2fbdae808c1ac9b3.mjs.map